<!--activityRecordsController-->
<div ng-controller='mainController'>

    <!--main-container-->
    <div class="main-container main-container-activity" ng-enter="false">

        <!--row-->
        <div class="row">

            <!--col-left-->
            <div class="col-xs-3">

                <!--aside-->
                <div class="aside">

                    <!--filter-->
                    <div class="filters">

                        <!--form-->
                        <form>

                            <!--fieldset-->
                            <fieldset>

                                <!--filters-scroll-->
                                <div class="filters-scroll">

                                    <!--ServiceTracker ID-->
                                    <div class="form-group form-group-section">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-search"></span> ServiceTracker ID (search all messages joined by ActiveMQ ID):
                                        </label>
                                        <!--/control-label-->

                                        <!--form-group-->
                                        <div class="form-group">

                                            <!--row-->
                                            <div class="row">

                                                <!--col-->
                                                <div class="col-xs-11">

                                                    <input
                                                        ng-disabled="$root.isFilterLoading"
                                                        class="form-control input-sm"
                                                        type="text"
                                                        ng-model="filters.servicetracker_id"
                                                        ng-change="setFilterDebounced()"
                                                        tabindex="4">

                                                </div>
                                                <!--/col-->

                                                <!--col-->
                                                <div class="col-xs-1 text-center">

                                                    <a

                                                        ng-click="clear('servicetracker_id')"
                                                        class="control-remove"
                                                        tabindex="-1">
                                                        <span class="glyphicon glyphicon-remove-2"></span>
                                                    </a>

                                                </div>
                                                <!--/col-->

                                            </div>
                                            <!--/row-->

                                        </div>
                                        <!--/form-group-->

                                    </div>
                                    <!--/ServiceTracker ID-->

                                    <!--activemq_id -->
                                    <div class="form-group form-group-section">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-search"></span> ActiveMQ ID:
                                        </label>
                                        <!--/control-label-->

                                        <!--form-group-->
                                        <div class="form-group">

                                            <!--row-->
                                            <div class="row">

                                                <!--col-->
                                                <div class="col-xs-11">

                                                    <input
                                                        ng-disabled="$root.isFilterLoading"
                                                        class="form-control input-sm"
                                                        type="text"
                                                        ng-model="filters.activemq_id"
                                                        ng-change="setFilterDebounced()"
                                                        tabindex="4">

                                                </div>
                                                <!--/col-->

                                                <!--col-->
                                                <div class="col-xs-1 text-center">

                                                    <a

                                                        ng-click="clear('activemq_id')"
                                                        class="control-remove"
                                                        tabindex="-1">
                                                        <span class="glyphicon glyphicon-remove-2"></span>
                                                    </a>

                                                </div>
                                                <!--/col-->

                                            </div>
                                            <!--/row-->

                                        </div>
                                        <!--/form-group-->

                                    </div>
                                    <!--/activemq_id-->


                                    <!--message_text -->
                                    <div class="form-group form-group-section">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-search"></span> Message Text:
                                        </label>
                                        <!--/control-label-->

                                        <!--form-group-->
                                        <div class="form-group">

                                            <!--row-->
                                            <div class="row">

                                                <!--col-->
                                                <div class="col-xs-11">

                                                    <input
                                                        ng-disabled="$root.isFilterLoading"
                                                        class="form-control input-sm"
                                                        type="text"
                                                        ng-model="filters.message_text"
                                                        ng-change="setFilterDebounced()"
                                                        tabindex="4">

                                                </div>
                                                <!--/col-->

                                                <!--col-->
                                                <div class="col-xs-1 text-center">

                                                    <a

                                                        ng-click="clear('message_text')"
                                                        class="control-remove"
                                                        tabindex="-1">
                                                        <span class="glyphicon glyphicon-remove-2"></span>
                                                    </a>

                                                </div>
                                                <!--/col-->

                                            </div>
                                            <!--/row-->

                                        </div>
                                        <!--/form-group-->

                                    </div>
                                    <!--/message_text-->

                                    <!--destination -->
                                    <div class="form-group form-group-section">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-search"></span> Destination:
                                        </label>
                                        <!--/control-label-->

                                        <!--form-group-->
                                        <div class="form-group">

                                            <!--row-->
                                            <div class="row">

                                                <!--col-->
                                                <div class="col-xs-11">

                                                    <input
                                                        ng-disabled="$root.isFilterLoading"
                                                        class="form-control input-sm"
                                                        type="text"
                                                        ng-model="filters.destination"
                                                        ng-change="setFilterDebounced()"
                                                        tabindex="4">

                                                </div>
                                                <!--/col-->

                                                <!--col-->
                                                <div class="col-xs-1 text-center">

                                                    <a
                                                        ng-click="clear('destination')"
                                                        class="control-remove"
                                                        tabindex="-1">
                                                        <span class="glyphicon glyphicon-remove-2"></span>
                                                    </a>

                                                </div>
                                                <!--/col-->

                                            </div>
                                            <!--/row-->

                                        </div>
                                        <!--/form-group-->

                                    </div>
                                    <!--/destination-->


                                    <!--date-->
                                    <div class="form-group form-group-section">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-clock"></span> Date:
                                        </label>
                                        <!--/control-label-->

                                        <div class="form-group-wrap">

                                            <!--form-group_DateFrom-->
                                            <div class="form-group">

                                                <!--row-->
                                                <div class="row">

                                                    <!--col-->
                                                    <div class="col-xs-11">

                                                        <!--form-horizontal-->
                                                        <div class="form-horizontal">

                                                            <!--form-group-->
                                                            <div class="form-group">

                                                                <!--control-label-->
                                                                <label class="control-label col-xs-3">From:</label>
                                                                <!--/control-label-->

                                                                <!--col-->
                                                                <div class="col-xs-9">

                                                                    <!--input-group-->
                                                                    <div class="input-group input-group-sm">
                                                                        <!--input-->

                                                                        <input inputmask-date
                                                                                type="text"
                                                                                class="form-control input-sm"
                                                                                ng-model="filters.date_time"
                                                                                tabindex="6"
                                                                                ng-change="setFilterDebounced()"
                                                                                mask="yyyy/mm/dd"/>

                                                                    </div>
                                                                    <!--/input-group-->

                                                                </div>
                                                                <!--/col-->

                                                            </div>
                                                            <!--/form-group-->

                                                        </div>
                                                        <!--/form-horizontal-->

                                                    </div>
                                                    <!--/col-->

                                                    <!--col-->
                                                    <div class="col-xs-1 text-center">

                                                        <a
                                                            ng-click="clear('date_time')"
                                                            class="control-remove"
                                                            tabindex="-1">
                                                            <span class="glyphicon glyphicon-remove-2"></span>
                                                        </a>

                                                    </div>
                                                    <!--/col-->

                                                </div>
                                                <!--/row-->

                                            </div>
                                            <!--date_time-->

                                        </div>

                                    </div>
                                    <!--/activity date-->

                                    <!--status-->
                                    <div class="form-group form-group-section form-group-status">

                                        <!--control-label-->
                                        <label class="control-label">
                                            <span class="glyphicon glyphicon-exportfile"></span> Status:
                                        </label>
                                        <!--/control-label-->

                                        <!--form-group-->
                                        <div class="form-group">

                                            <!--radio-->
                                            <div class="radio">
                                                <label>
                                                    <input
                                                        ng-model="filters.status"
                                                        ng-change="clear('status')"
                                                        type="radio"
                                                        name="status-select"
                                                        ng-checked="true"
                                                        value=""
                                                        tabindex="8">
                                                    <span tooltip="All">
                                                        <span class="glyphicon glyphicon-user"></span>
                                                        All
                                                    </span>
                                                </label>
                                            </div>
                                            <!--/radio-->

                                            <!--radio-->
                                            <div class="radio">
                                                <label>
                                                    <input
                                                        ng-model="filters.status"
                                                        type="radio"
                                                        ng-change="setFilterDebounced()"
                                                        name="status-select"
                                                        value="1"
                                                        tabindex="9">
                                                    <span tooltip="Sent">
                                                        <span class="glyphicon glyphicon-busy"></span>
                                                        Sent
                                                    </span>
                                                </label>
                                            </div>
                                            <!--/radio-->

                                            <!--radio-->
                                            <div class="radio">
                                                <label>
                                                    <input
                                                        ng-model="filters.status"
                                                        type="radio"
                                                        ng-change="setFilterDebounced()"
                                                        name="status-select"
                                                        value="2"
                                                        tabindex="10">
                                                    <span tooltip="Get">
                                                        <span class="glyphicon glyphicon-exportfile"></span>
                                                        Get
                                                    </span>
                                                </label>
                                            </div>
                                            <!--/radio-->

                                            <!--radio-->
                                            <div class="radio">
                                                <label>
                                                    <input
                                                        ng-model="filters.status"
                                                        type="radio"
                                                        ng-change="setFilterDebounced()"
                                                        name="status-select"
                                                        value="3"
                                                        tabindex="11">
                                                    <span tooltip="DLQ">
                                                        <span class="glyphicon glyphicon-clock"></span>
                                                        DLQ
                                                    </span>
                                                </label>
                                            </div>
                                            <!--/radio-->

                                        </div>
                                        <!--/form-group-->

                                    </div>
                                    <!--/status-->

                                </div>
                                <!--/filters-scroll-->

                            </fieldset>
                            <!--fieldset-->

                        </form>
                        <!--/form-->

                    </div>
                    <!--/filter-->

                </div>
                <!--/aside-->

            </div>
            <!--/col-left-->

            <!--col-right-->
            <div class="col-xs-9">

                <!--grid-->
                <div class="grid grid-activityRecord">

                    <!--grid-heading-->
                    <div class="grid-heading">

                        <div class="grid-cols-row">

                            <!--employee-->
                            <div class="grid-col-employee"
                                 ng-click="changeDirectionFor('employee')"
                                 ng-class="{ 'sort': true, 'sort-down': sortPredicate('asc', 'employee'), 'sort-up': sortPredicate('desc', 'employee') }">
                                ActiveMQ ID
                            </div>
                            <!--/employee-->

                            <!--client-->
                            <div class="grid-col-client"
                                 ng-click="changeDirectionFor('client')"
                                 ng-class="{ 'sort': true, 'sort-down': sortPredicate('asc', 'client'), 'sort-up': sortPredicate('desc', 'client') }">
                                ServiceTracker ID
                            </div>
                            <!--/client-->

                            <!--scheduledDuration-->
                            <div class="grid-col-shDuration text-center">
                                Text
                            </div>
                            <!--/scheduledDuration-->

                            <!--visitEnd-->
                            <div class="grid-col-visitEnd">
                                Date
                            </div>
                            <!--/visitEnd-->

                            <!--duration-->
                            <div class="grid-col-duration"
                                ng-click="changeDirectionFor('duration')"
                                ng-class="{ 'sort': true, 'sort-down': sortPredicate('asc', 'duration'), 'sort-up': sortPredicate('desc', 'duration') }">
                                Destination
                            </div>
                            <!--/duration-->



                            <!--status>
                            <div class="grid-col-alerts">
                                Origin
                            </div>
                            <!--/status>

                            <!--status>
                            <div class="grid-col-alerts">
                                Sender ID
                            </div>
                            <!--/status-->
                        </div>
                        <!--/client name-->

                    </div>
                    <!--grid-heading-->

                    <!--grid-body-->
                    <div class="grid-body">

                        <!--grid-body-scroll-->
                        <div class="grid-body-scroll" ui-scroll-viewport>

                            <!--grid-cols-row-->
                            <a
                                class="grid-cols-row"
                                ui-scroll="msg in messages"
                                buffer-size="50"
                                >
                                <!--status-->
                                <span class="grid-col-status text-center">

                                    <span
                                        ng-show=" msg.status == '1'"
										tooltip="Sent"
                                        class="glyphicon glyphicon-busy">
                                    </span>

                                    <span
                                        ng-show=" msg.status == '2'"
                                        tooltip="Get"
                                        class="glyphicon glyphicon-exportfile">
                                    </span>

                                    <span
                                        ng-show=" msg.status == '3' "
										tooltip="DLQ"
                                        class="glyphicon glyphicon-clock">
                                    </span>

                                    <span
                                        ng-show=" msg.status != '1' &&  msg.status != '2' && msg.status != '3' "
                                        tooltip="Application"
                                        class="glyphicon glyphicon-user">
                                    </span>
                                                                        
                                </span>
                                <!--/status-->

                                <!--employee-->
                                <span class="grid-col-employee">
                                    <span
                                        class="nowrap"
                                        tooltip="{{msg.activemq_id}}"
                                        ng-show="msg.activemq_id">
                                        {{msg.activemq_id}}
                                    </span>
                                </span>
                                <!--/employee-->

                                <!--servicetracker_id-->
                                <span class="grid-col-employee">
                                    <span
                                        class="nowrap"
                                        tooltip="{{msg.servicetracker_id}}"
                                        ng-show="msg.servicetracker_id">
                                        {{msg.servicetracker_id}}
                                    </span>
                                </span>
                                <!--/servicetracker_id-->

                                <!--message_text-->
                                <span class="grid-col-client">
                                     <span
                                         class="nowrap"
                                         tooltip="{{msg.message_text}}"
                                         ng-show="msg.message_text">
                                         {{msg.message_text }}
                                     </span>
                                </span>
                                <!--/message_text-->       

                                <!--date_time-->
                                <span class="grid-col-client">
                                     <span
                                         class="nowrap"
                                         tooltip="{{msg.date_time}}"
                                         ng-show="msg.date_time">
                                         {{msg.date_time }}
                                     </span>
                                </span>
                                <!--/date_time-->


                                <!--destination-->
                                <span class="grid-col-client">
                                     <span
                                         class="nowrap"
                                         tooltip="{{msg.destination}}"
                                         ng-show="msg.destination">
                                         {{msg.destination }}
                                     </span>
                                </span>
                                <!--/destination-->  

                                <!--message_text>
                                <span class="grid-col-client">
                                     <span
                                         class="nowrap"
                                         ng-show="msg.origin">
                                         {{msg.origin }}
                                     </span>
                                </span>
                                <!--/message_text>        

                                <!--message_text>
                                <span class="grid-col-client">
                                     <span
                                         class="nowrap"
                                         ng-show="msg.sender_id">
                                         {{msg.sender_id }}
                                     </span>
                                </span>
                                <!--/message_text-->        



                            </a>
                            <!--/grid-cols-row-->

                        </div>
                        <!--/grid-body-scroll-->

                    </div>
                    <!--/grid-body-->

                </div>
                <!--/grid-->

            </div>
            <!--/col-right-->

        </div>
        <!--/row-->

    </div>
    <!--main-container-->

    <!--loader-->
    <div class="loader-overlay" ng-show="$root.isFilterLoading || isGridLoading">
        <div class="loader"></div>
    </div>
    <!-- {{ $root.isFilterLoading }} -->
    <!--/loader-->

</div>
<!--/activityRecordsController-->







